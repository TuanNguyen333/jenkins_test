pipeline{
    agent any
    stages{
        stage("Hello World"){
            steps{
                echo "Hello World"
            }
        }
         stage('Run Batch Script 1') {
            steps {
                echo 'Running Batch Script 1...'
                 bat './Script/Batch_script_1.bat'
            }
        }

        stage('Run Batch Script 2') {
            when {
                failure()
            }
            steps {
                echo 'Running Batch Script 2 due to failure in previous stage...'
                 bat './Script/Batch_script_1.bat'
            }
        }

        stage('Run Batch Script 3') {
            always {
                echo 'Running Batch Script 3 (always runs, regardless of build status)...'
                 bat './Script/Batch_script_1.bat'
            }
            post {
                always {
                    echo 'Archiving log file generated by Batch Script 3...'
                    archiveArtifacts artifacts: './logfile.log', fingerprint: true
                }
            }
        }
    }
}
